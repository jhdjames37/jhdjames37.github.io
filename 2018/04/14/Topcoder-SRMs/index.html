
<!DOCTYPE html>
<html lang="zh-CN">
    
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="jhdjames37&#39;s blog">
    <title>Topcoder SRMs - jhdjames37&#39;s blog</title>
    <meta name="author" content="jhdjames37">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"jhdjames37","sameAs":["https://github.com/jhdjames37","http://wpa.qq.com/msgrd?uin=1285959811"],"image":"https://www.gravatar.com/avatar/2d1d811a1320ec6dec962daa36118477"},"articleBody":"首先提供官方题解：\n2016 之前较新的题解\n另外，TopCoder 的插件中，moj 做得不错，repo （最新版浮点数 spj 在 c++11 下不会 CE 了， Emacs 选手可能需要手动调整缩进，当然有 java 编译器的可以自己动手改～）\n\nSRM 555Easy - CuttingBitString按照题意 DP 即可（居然数组开小 FST 了一发，看来不要小看 $n \\le 50$）\nMedium - XorBoard既然是 xor，只需要考虑奇偶性。枚举行列奇数次操作数量，判断 1 的数量是否合法。然后组合数计算一下即可。\nHard - MapGuessing有许多性质没有发现。。。\n首先枚举起始位置，暴力模拟判断是否合法以及哪些格子被覆盖了（这里要注意判断每一步结束后是否合法，并更新答案）。\n那么只有这些格子能够修改（修改的意义是目标状态与初始状态不同），方案为 $2 ^ {|S|}$。\n因为有多个这样的集合，它们之间有交集，所以需要跑容斥。\n但是这样的集合最多有字符串长度个，$n \\le 36$。所以常规容斥不能做。\n但是考虑这些集合是由同一套操作产生的，它们的影响范围（指针移动范围）是相同的，假设为 $L$。\n那么如果两个集合的起始点距离 $&gt; L$, 显然没有贡献，对答案的贡献为 $2 ^ {|\\varnothing|} = 1$（不考虑容斥正负号）。\n所以每次只需要考虑相距不超过 $L$ 的集合。\n又因为合法集合个数为（至多）$n - L$\n所以每次需要考虑的集合个数为 $\\min(L, n - L) \\le 18$, 在可接受范围。\n那么就可以跑容斥了。\nSRM 556Easy - XorTravelingSalesman直接 BFS 一遍就可以了。\nMedium - LeftRightDigitsGame2写了一个 Div2 Hard 的贪心。结果 FST 了。\n实际上是数位 DP，而且由于题目的性质，需要同时记录两侧的状态（长度以及大小比较）\nHard - OldBridges题目具有迷惑性。循环流显然无法解决同时在一座桥上双向行走，将限制扩大两倍跑单向流也无法阻止 $a_1 \\rightarrow b_2$ 的流。（怪不得当时无人 A）\n题解上的办法很鬼畜： 首先跑一边以 $(a_1, b_1)$ 为源，$(a_2, b_2)$ 为汇的网络流，再跑一遍 $(a_1, b_2)$ 为源，$(a_2, b_1)$ 为汇的网络流。两遍均合法才输出 Yes。\n正确性：\n首先将两个流相加，那么原来不合法的 $a_1 \\rightarrow b_2$ 变成了 $a_1 \\rightarrow b_2 \\rightarrow a_2$。其它的不合法情况也同理，画张图会发现所有流变成了 $a_1 \\rightarrow a_2$ 的流（的两倍）。\n同样的，两个流相减可以得到 $b_1 \\rightarrow b_2$ 流。\n然后将流量除以 2。因为容量为偶数（或 INF），则流量一定为偶数。\n然后可以发现对于一条边，当前流量 $|\\frac{f_1 + f_2}{2}| + |\\frac{f_1 - f_2}{2}| \\le \\max(f_1, f_2) \\le \\text{cap}$ 所以方案合法。\n所以就能够判定了。\nSRM 557Easy - FoxAndMountainEasy根据题意将给定的操作的 $\\Delta h$ 求出来。注意 $h_0 + \\Delta h &lt;0$ 的情况以及操作次数奇偶性的判定。（后者样例中居然没有！）\nMedium - Incubator需要一些前置知识：\n反链： 一个元素的集合（是全集的子集），两两之间不能确定大小关系。（用图论的语言来描述就是在有向图上的点集，使得两两之间不存在有向路径）\nDilworth’s Theorem： 给定一个集合，以及集合中一些元素的大小关系（可能存在环），则其反链的最大大小等于其最小链精确点覆盖（用链覆盖点恰好一次）。\n然后就可以变成二分图匹配经典问题了。\n但是有两点注意：这个定理需要先求出传递闭包。其次对于非 DAG，我们也可以直接建出二分图跑匹配。\nHard - XorAndSum首先需要了解线性基 ( 非常抱歉，没有链接 )。\n首先我们先构建出一个线性基。\n然后我们只需要最大化线性基元素和。线性基外的就直接取最大值。根据线性基的性质，这是符合题意的。\n那么我们在构出线性基之后，首先用较低位基的值去消去较高位基的值二进制下对应位上的 1。那么对于每一个基都得到了其最小值，异或上最大值之后，就得到了其最大值。\nSRM 558（各种细节写挂，各种 FST）\nEasy - Stamp枚举长度之后直接 dp。（注意更换颜色与不更换颜色的转移的区别！）\nMedium - Ear可以枚举大三角形的底边 A，D， 那么对于每个小三角形的 P 点对应的合法的底边数量是确定的。\n然后可以发现合法的 P, Q, 构成了关于 A，D 的极角的二维偏序。BIT 处理。注意处理共线的情况。\nHard - SurroundingGame某道校内训练题的原题。最小割。\nSRM 559（感觉 Medium 和 Easy 顺序反了。。。）\nEasy - HyperKnight不会找规律的表示，写一发容斥。\n结果容斥写了好久（好像就多了一个组合数 $\\binom{n}{k}$）。。。（最后写成了直接 DP+ 组合数，其实也就是容斥的原始形式）\nMedium - HatRack题目很长，其实就是给出一棵树，求它有几种编号的映射方案使得其成为一棵完全二叉树 , 且 $x$ 的左右儿子（若存在）为 $2x, 2x + 1$。\n直接 $O(n^3)$dp 即可。发现有许多状态本质相同，可以优化到 $O(n ^ 2)$.\nHard - CircusTents二分答案不难想到。\n在一开始想的时候，发现有些圆的路径可能会绕过某些圆，但是仔细观察会发现，这样的圆一定不会是最小值所在的圆，而且忽略非 0 号圆的弧线不会影响答案。\n然后就可以二分出每个圆所对应的合法区间然后求交来判定。\nSRM 560Easy - TomekPhone经典贪心。\nMedium - DrawingPointsDivOne容易发现通过坐标变换，可以将一次（逆向）操作变成 $(x, y) \\rightarrow (x, y), (x + 1, y), (x , y + 1), (x + 1, y + 1)$ 也可以发现 $x$ 次操作后，它形成了一个边长为 $x+1$ 的正方形。\n（然后我就直接根据这个来判定，然后样例都过不去。。。）\n可以发现我们忘记了判新加的点（不一定是通过上述过程构造的）。如果我们反向考虑这个过程，就会发现，每一个 $x$ 的正方形，对应在 $x - 1$ 步前出现的点（有可能是新加的，也可能是构造的），那么我们可以据此来判定 $k$ 步时是否合法（检查每一个正方形大小是否合法）。\n发现正方形大小可以 DP 计算，而且答案具有可二分性，总复杂度 $O(n^2\\log n)$\nHard - BoundedOptimization（可能涉及微积分）\n有一个 StraightForward 的做法，枚举每个点是否为 LowerBound，UpperBound 还是中间的某个值。然后暴力对每个中间值求导，高消。直接求 $O(3^n n^3)$。发现每一个中间值集合相同的方程列出来相似，可以只做 $2^n$ 次高消 $O(3^n n^2+2^n n^3)$。\n首先发现在最优解中，取中间值的形成了团（可用反证法），设集合为 $S$\n枚举其余点为最大还是最小值。设 $S$ 的和 $\\sum_{i \\in S} x_i =M$。\n那么就会发现 $i$ 号点（$i \\in S$）对答案贡献为 $x_i \\cdot (\\sum_{j \\notin S, (i, j) \\in E} x_j + \\frac{1}{2}(M - x_i) )$\n设 $A_i = \\sum_{j \\notin S, (i, j) \\in E} x_j + \\frac{1}{2}M$.\n则这一部分的答案为 $\\sum x_i(A_i - \\frac{1}{2} x_i), \\sum x_i = M$，其极值为 $x_i = A_i + \\frac{M - \\sum A_i} {|S|}$。\n证明：考虑每一维的偏导为 $A_i - x_i$, 容易发现当每一维偏导相等时取极值（反证，考虑向偏导大的那一维移动 $\\epsilon$），所以可以解出上式。\n最后只需要判断取值范围即可。\nSRM 561Easy - ICPCBalloon$2 ^ n$ 枚举气球大小，后面直接贪心。\nMedium - CirclesGame根据包含关系建树。然后暴力计算每棵子树的 SG。\nHard - Orienteering考虑已知 $k$ 个点的情况下求答案：首先构造回路，长度为 $2 \\times \\text{ 生成树大小 }$，然后变成路径，最多减去生成树直径。\n考虑两部分分开计算期望：\n生成树大小：考虑每一条边，它在生成树中出现当且仅当它两边两个子树均有点被选，为 $\\binom{n}{k} - \\binom{size}{k} - \\binom{n-size}{k}$ 种方案（所有方案减去只在一边的方案 ,$n$ 表示关键点数，$size$ 表示一侧子树大小）\n直径：枚举直径端点 $A, B$。考虑 2-BFS 求直径方法，我们规定有多个 dis 最大值，选取编号最大的作为端点，那么我们就会发现一个点 $C$ 能够出现在以 $AB$ 为直径的树上当且仅当下面两者均满足（反之 $C$ 将成为端点）：\n\n$dis_{AC} &lt; dis_{AB}$ 或 $dis_{AC}=dis_{AB}$ 且 $C &lt; B$\n$dis_{BC} &lt; dis_{BA}$ 或 $dis_{BC}=dis_{BA}$ 且 $C &lt; A$.那么可以统计出合法点数，乘上组合数即可得到方案数。复杂度 $O(n ^ 3)$\n\n在程序实现的时候，看起来组合数会存不下，但因为最后还需要除以 $\\binom{n}{k}$，所以可以在预处理组合数时除掉，或者直接用 double 存。因为 double 有 16 位精度，所以最后再将两个大数相除，前几位也是准确的，而且期望值显然在 $O(\\text{ 棋盘大小 })$ 级别，精度不会爆炸。\n","dateCreated":"2018-04-14T14:31:02+08:00","dateModified":"2018-06-03T20:36:17+08:00","datePublished":"2018-04-14T14:31:02+08:00","description":"首先提供官方题解：\n2016 之前较新的题解\n另外，TopCoder 的插件中，moj 做得不错，repo （最新版浮点数 spj 在 c++11 下不会 CE 了， Emacs 选手可能需要手动调整缩进，当然有 java 编译器的可以自己动手改～）","headline":"Topcoder SRMs","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"/jhdjames37.github.io/2018/04/14/Topcoder-SRMs/"},"publisher":{"@type":"Organization","name":"jhdjames37","sameAs":["https://github.com/jhdjames37","http://wpa.qq.com/msgrd?uin=1285959811"],"image":"https://www.gravatar.com/avatar/2d1d811a1320ec6dec962daa36118477","logo":{"@type":"ImageObject","url":"https://www.gravatar.com/avatar/2d1d811a1320ec6dec962daa36118477"}},"url":"/jhdjames37.github.io/2018/04/14/Topcoder-SRMs/","keywords":"TopCoder"}</script>
    <meta name="description" content="首先提供官方题解： 2016 之前较新的题解 另外，TopCoder 的插件中，moj 做得不错，repo （最新版浮点数 spj 在 c++11 下不会 CE 了， Emacs 选手可能需要手动调整缩进，当然有 java 编译器的可以自己动手改～）">
<meta name="keywords" content="TopCoder">
<meta property="og:type" content="blog">
<meta property="og:title" content="Topcoder SRMs">
<meta property="og:url" content="jhdjames37.github.io/2018/04/14/Topcoder-SRMs/index.html">
<meta property="og:site_name" content="jhdjames37&#39;s blog">
<meta property="og:description" content="首先提供官方题解： 2016 之前较新的题解 另外，TopCoder 的插件中，moj 做得不错，repo （最新版浮点数 spj 在 c++11 下不会 CE 了， Emacs 选手可能需要手动调整缩进，当然有 java 编译器的可以自己动手改～）">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-06-03T12:36:17.125Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Topcoder SRMs">
<meta name="twitter:description" content="首先提供官方题解： 2016 之前较新的题解 另外，TopCoder 的插件中，moj 做得不错，repo （最新版浮点数 spj 在 c++11 下不会 CE 了， Emacs 选手可能需要手动调整缩进，当然有 java 编译器的可以自己动手改～）">
    
    
        
    
    
        <meta property="og:image" content="https://www.gravatar.com/avatar/2d1d811a1320ec6dec962daa36118477?s=640"/>
        <link rel="shortcut icon" href="https://www.gravatar.com/avatar/2d1d811a1320ec6dec962daa36118477?s=640" >
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-1udptkpril81ozu8ifd8zpujn7ipu7lefxsiu5gxx0dpnzntdx6dusvki3ao.min.css">
    <!--STYLES END--><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

    
</head>

    <body>
        <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="blog">
            <!-- Define author's picture -->


    
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">jhdjames37&#39;s blog</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="https://www.gravatar.com/avatar/2d1d811a1320ec6dec962daa36118477?s=90" alt="作者的图片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->


    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/2d1d811a1320ec6dec962daa36118477?s=110" alt="作者的图片"/>
                </a>
                <h4 class="sidebar-profile-name">jhdjames37</h4>
                
                    <h5 class="sidebar-profile-bio"><p><a href="/About-me">An OIer.</a></p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="首页"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="分类"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="标签"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="归档"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="搜索"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="关于"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/link"
                            
                            title="友链"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-link" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">友链</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/jhdjames37" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="http://wpa.qq.com/msgrd?uin=1285959811" target="_blank" rel="noopener" title="QQ">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-qq" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">QQ</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Topcoder SRMs
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2018-04-14T14:31:02+08:00">
	
		    4月 14, 2018
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/oi/">oi</a>, <a class="category-link" href="/categories/oi/solutions/">solutions</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>首先提供官方题解：</p>
<p><a href="https://apps.topcoder.com/wiki/display/tc/Algorithm+Problem+Set+Analysis" target="_blank" rel="noopener">2016 之前</a><br><a href="https://www.topcoder.com/blog/tag/srm/" target="_blank" rel="noopener">较新的题解</a></p>
<p>另外，TopCoder 的插件中，moj 做得不错，<a href="https://github.com/lovrop/topcoder-moj" target="_blank" rel="noopener">repo</a> （最新版浮点数 spj 在 c++11 下不会 CE 了， Emacs 选手可能需要手动调整缩进，当然有 java 编译器的可以自己动手改～）</p>
<a id="more"></a>
<h2 id="SRM-555"><a href="#SRM-555" class="headerlink" title="SRM 555"></a>SRM 555</h2><h3 id="Easy-CuttingBitString"><a href="#Easy-CuttingBitString" class="headerlink" title="Easy - CuttingBitString"></a>Easy - CuttingBitString</h3><p>按照题意 DP 即可（居然数组开小 FST 了一发，看来不要小看 $n \le 50$）</p>
<h3 id="Medium-XorBoard"><a href="#Medium-XorBoard" class="headerlink" title="Medium - XorBoard"></a>Medium - XorBoard</h3><p>既然是 xor，只需要考虑奇偶性。枚举行列奇数次操作数量，判断 1 的数量是否合法。然后组合数计算一下即可。</p>
<h3 id="Hard-MapGuessing"><a href="#Hard-MapGuessing" class="headerlink" title="Hard - MapGuessing"></a>Hard - MapGuessing</h3><p>有许多性质没有发现。。。</p>
<p>首先枚举起始位置，暴力模拟判断是否合法以及哪些格子被覆盖了（这里要注意判断每一步结束后是否合法，并更新答案）。</p>
<p>那么只有这些格子能够修改（修改的意义是目标状态与初始状态不同），方案为 $2 ^ {|S|}$。</p>
<p>因为有多个这样的集合，它们之间有交集，所以需要跑容斥。</p>
<p>但是这样的集合最多有字符串长度个，$n \le 36$。所以常规容斥不能做。</p>
<p>但是考虑这些集合是由同一套操作产生的，它们的影响范围（指针移动范围）是相同的，假设为 $L$。</p>
<p>那么如果两个集合的起始点距离 $&gt; L$, 显然没有贡献，对答案的贡献为 $2 ^ {|\varnothing|} = 1$（不考虑容斥正负号）。</p>
<p>所以每次只需要考虑相距不超过 $L$ 的集合。</p>
<p>又因为合法集合个数为（至多）$n - L$</p>
<p>所以每次需要考虑的集合个数为 $\min(L, n - L) \le 18$, 在可接受范围。</p>
<p>那么就可以跑容斥了。</p>
<h2 id="SRM-556"><a href="#SRM-556" class="headerlink" title="SRM 556"></a>SRM 556</h2><h3 id="Easy-XorTravelingSalesman"><a href="#Easy-XorTravelingSalesman" class="headerlink" title="Easy - XorTravelingSalesman"></a>Easy - XorTravelingSalesman</h3><p>直接 BFS 一遍就可以了。</p>
<h3 id="Medium-LeftRightDigitsGame2"><a href="#Medium-LeftRightDigitsGame2" class="headerlink" title="Medium - LeftRightDigitsGame2"></a>Medium - LeftRightDigitsGame2</h3><p>写了一个 Div2 Hard 的贪心。结果 FST 了。</p>
<p>实际上是数位 DP，而且由于题目的性质，需要同时记录两侧的状态（长度以及大小比较）</p>
<h3 id="Hard-OldBridges"><a href="#Hard-OldBridges" class="headerlink" title="Hard - OldBridges"></a>Hard - OldBridges</h3><p>题目具有迷惑性。循环流显然无法解决同时在一座桥上双向行走，将限制扩大两倍跑单向流也无法阻止 $a_1 \rightarrow b_2$ 的流。（怪不得当时无人 A）</p>
<p>题解上的办法很鬼畜： 首先跑一边以 $(a_1, b_1)$ 为源，$(a_2, b_2)$ 为汇的网络流，再跑一遍 $(a_1, b_2)$ 为源，$(a_2, b_1)$ 为汇的网络流。两遍均合法才输出 Yes。</p>
<p><strong>正确性：</strong></p>
<p>首先将两个流相加，那么原来不合法的 $a_1 \rightarrow b_2$ 变成了 $a_1 \rightarrow b_2 \rightarrow a_2$。其它的不合法情况也同理，画张图会发现所有流变成了 $a_1 \rightarrow a_2$ 的流（的两倍）。</p>
<p>同样的，两个流相减可以得到 $b_1 \rightarrow b_2$ 流。</p>
<p>然后将流量除以 2。因为容量为偶数（或 INF），则流量一定为偶数。</p>
<p>然后可以发现对于一条边，当前流量 $|\frac{f_1 + f_2}{2}| + |\frac{f_1 - f_2}{2}| \le \max(f_1, f_2) \le \text{cap}$ 所以方案合法。</p>
<p>所以就能够判定了。</p>
<h2 id="SRM-557"><a href="#SRM-557" class="headerlink" title="SRM 557"></a>SRM 557</h2><h3 id="Easy-FoxAndMountainEasy"><a href="#Easy-FoxAndMountainEasy" class="headerlink" title="Easy - FoxAndMountainEasy"></a>Easy - FoxAndMountainEasy</h3><p>根据题意将给定的操作的 $\Delta h$ 求出来。注意 $h_0 + \Delta h &lt;0$ 的情况以及操作次数奇偶性的判定。（后者样例中居然没有！）</p>
<h3 id="Medium-Incubator"><a href="#Medium-Incubator" class="headerlink" title="Medium - Incubator"></a>Medium - Incubator</h3><p>需要一些前置知识：</p>
<p><strong>反链</strong>： 一个元素的集合（是全集的子集），两两之间不能确定大小关系。（用图论的语言来描述就是在有向图上的点集，使得两两之间不存在有向路径）</p>
<p><strong>Dilworth’s Theorem</strong>： 给定一个集合，以及集合中一些元素的大小关系（可能存在环），则其反链的最大大小等于其最小链精确点覆盖（用链覆盖点恰好一次）。</p>
<p>然后就可以变成二分图匹配经典问题了。</p>
<p>但是有两点注意：这个定理需要先求出传递闭包。其次对于非 DAG，我们也可以直接建出二分图跑匹配。</p>
<h3 id="Hard-XorAndSum"><a href="#Hard-XorAndSum" class="headerlink" title="Hard - XorAndSum"></a>Hard - XorAndSum</h3><p>首先需要了解线性基 ( 非常抱歉，没有链接 )。</p>
<p>首先我们先构建出一个线性基。</p>
<p>然后我们只需要最大化线性基元素和。线性基外的就直接取最大值。根据线性基的性质，这是符合题意的。</p>
<p>那么我们在构出线性基之后，首先用较低位基的值去消去较高位基的值二进制下对应位上的 1。那么对于每一个基都得到了其最小值，异或上最大值之后，就得到了其最大值。<!---（这是 Selina 口胡的）---></p>
<h2 id="SRM-558"><a href="#SRM-558" class="headerlink" title="SRM 558"></a>SRM 558</h2><p>（各种细节写挂，各种 FST）</p>
<h3 id="Easy-Stamp"><a href="#Easy-Stamp" class="headerlink" title="Easy - Stamp"></a>Easy - Stamp</h3><p>枚举长度之后直接 dp。（注意更换颜色与不更换颜色的转移的区别！）</p>
<h3 id="Medium-Ear"><a href="#Medium-Ear" class="headerlink" title="Medium - Ear"></a>Medium - Ear</h3><p>可以枚举大三角形的底边 A，D， 那么对于每个小三角形的 P 点对应的合法的底边数量是确定的。</p>
<p>然后可以发现合法的 P, Q, 构成了关于 A，D 的极角的二维偏序。BIT 处理。注意处理共线的情况。</p>
<h3 id="Hard-SurroundingGame"><a href="#Hard-SurroundingGame" class="headerlink" title="Hard - SurroundingGame"></a>Hard - SurroundingGame</h3><p>某道校内训练题的原题。最小割。</p>
<h2 id="SRM-559"><a href="#SRM-559" class="headerlink" title="SRM 559"></a>SRM 559</h2><p>（感觉 Medium 和 Easy 顺序反了。。。）</p>
<h3 id="Easy-HyperKnight"><a href="#Easy-HyperKnight" class="headerlink" title="Easy - HyperKnight"></a>Easy - HyperKnight</h3><p>不会找规律的表示，写一发容斥。</p>
<p>结果容斥写了好久（好像就多了一个组合数 $\binom{n}{k}$）。。。（最后写成了直接 DP+ 组合数，其实也就是容斥的原始形式）</p>
<h3 id="Medium-HatRack"><a href="#Medium-HatRack" class="headerlink" title="Medium - HatRack"></a>Medium - HatRack</h3><p>题目很长，其实就是给出一棵树，求它有几种编号的映射方案使得其成为一棵完全二叉树 , 且 $x$ 的左右儿子（若存在）为 $2x, 2x + 1$。</p>
<p>直接 $O(n^3)$dp 即可。发现有许多状态本质相同，可以优化到 $O(n ^ 2)$.</p>
<h3 id="Hard-CircusTents"><a href="#Hard-CircusTents" class="headerlink" title="Hard - CircusTents"></a>Hard - CircusTents</h3><p>二分答案不难想到。</p>
<p>在一开始想的时候，发现有些圆的路径可能会绕过某些圆，但是仔细观察会发现，这样的圆一定不会是最小值所在的圆，而且忽略非 0 号圆的弧线不会影响答案。</p>
<p>然后就可以二分出每个圆所对应的合法区间然后求交来判定。</p>
<h2 id="SRM-560"><a href="#SRM-560" class="headerlink" title="SRM 560"></a>SRM 560</h2><h3 id="Easy-TomekPhone"><a href="#Easy-TomekPhone" class="headerlink" title="Easy - TomekPhone"></a>Easy - TomekPhone</h3><p>经典贪心。</p>
<h3 id="Medium-DrawingPointsDivOne"><a href="#Medium-DrawingPointsDivOne" class="headerlink" title="Medium - DrawingPointsDivOne"></a>Medium - DrawingPointsDivOne</h3><p>容易发现通过坐标变换，可以将一次（逆向）操作变成 $(x, y) \rightarrow (x, y), (x + 1, y), (x , y + 1), (x + 1, y + 1)$ 也可以发现 $x$ 次操作后，它形成了一个边长为 $x+1$ 的正方形。</p>
<p>（然后我就直接根据这个来判定，然后样例都过不去。。。）</p>
<p>可以发现我们忘记了判新加的点（不一定是通过上述过程构造的）。如果我们反向考虑这个过程，就会发现，每一个 $x$ 的正方形，对应在 $x - 1$ 步前出现的点（有可能是新加的，也可能是构造的），那么我们可以据此来判定 $k$ 步时是否合法（检查每一个正方形大小是否合法）。</p>
<p>发现正方形大小可以 DP 计算，而且答案具有可二分性，总复杂度 $O(n^2\log n)$</p>
<h3 id="Hard-BoundedOptimization"><a href="#Hard-BoundedOptimization" class="headerlink" title="Hard - BoundedOptimization"></a>Hard - BoundedOptimization</h3><p>（可能涉及微积分）</p>
<p>有一个 StraightForward 的做法，枚举每个点是否为 LowerBound，UpperBound 还是中间的某个值。然后暴力对每个中间值求导，高消。直接求 $O(3^n n^3)$。发现每一个中间值集合相同的方程列出来相似，可以只做 $2^n$ 次高消 $O(3^n n^2+2^n n^3)$。</p>
<p>首先发现在最优解中，取中间值的形成了团（可用反证法），设集合为 $S$</p>
<p>枚举其余点为最大还是最小值。设 $S$ 的和 $\sum_{i \in S} x_i =M$。</p>
<p>那么就会发现 $i$ 号点（$i \in S$）对答案贡献为 $x_i \cdot (\sum_{j \notin S, (i, j) \in E} x_j + \frac{1}{2}(M - x_i) )$</p>
<p>设 $A_i = \sum_{j \notin S, (i, j) \in E} x_j + \frac{1}{2}M$.</p>
<p>则这一部分的答案为 $\sum x_i(A_i - \frac{1}{2} x_i), \sum x_i = M$，其极值为 $x_i = A_i + \frac{M - \sum A_i} {|S|}$。</p>
<p><strong>证明</strong>：考虑每一维的偏导为 $A_i - x_i$, 容易发现当每一维偏导相等时取极值（反证，考虑向偏导大的那一维移动 $\epsilon$），所以可以解出上式。</p>
<p>最后只需要判断取值范围即可。</p>
<h2 id="SRM-561"><a href="#SRM-561" class="headerlink" title="SRM 561"></a>SRM 561</h2><h3 id="Easy-ICPCBalloon"><a href="#Easy-ICPCBalloon" class="headerlink" title="Easy - ICPCBalloon"></a>Easy - ICPCBalloon</h3><p>$2 ^ n$ 枚举气球大小，后面直接贪心。</p>
<h3 id="Medium-CirclesGame"><a href="#Medium-CirclesGame" class="headerlink" title="Medium - CirclesGame"></a>Medium - CirclesGame</h3><p>根据包含关系建树。然后暴力计算每棵子树的 SG。</p>
<h3 id="Hard-Orienteering"><a href="#Hard-Orienteering" class="headerlink" title="Hard - Orienteering"></a>Hard - Orienteering</h3><p>考虑已知 $k$ 个点的情况下求答案：首先构造回路，长度为 $2 \times \text{ 生成树大小 }$，然后变成路径，最多减去生成树直径。</p>
<p>考虑两部分分开计算期望：</p>
<p>生成树大小：考虑每一条边，它在生成树中出现当且仅当它两边两个子树均有点被选，为 $\binom{n}{k} - \binom{size}{k} - \binom{n-size}{k}$ 种方案（所有方案减去只在一边的方案 ,$n$ 表示关键点数，$size$ 表示一侧子树大小）</p>
<p>直径：枚举直径端点 $A, B$。考虑 2-BFS 求直径方法，我们规定有多个 dis 最大值，选取编号最大的作为端点，那么我们就会发现一个点 $C$ 能够出现在以 $AB$ 为直径的树上当且仅当下面两者均满足（反之 $C$ 将成为端点）：</p>
<ul>
<li>$dis_{AC} &lt; dis_{AB}$ 或 $dis_{AC}=dis_{AB}$ 且 $C &lt; B$</li>
<li>$dis_{BC} &lt; dis_{BA}$ 或 $dis_{BC}=dis_{BA}$ 且 $C &lt; A$.<br>那么可以统计出合法点数，乘上组合数即可得到方案数。复杂度 $O(n ^ 3)$</li>
</ul>
<p>在程序实现的时候，看起来组合数会存不下，但因为最后还需要除以 $\binom{n}{k}$，所以可以在预处理组合数时除掉，或者直接用 <code>double</code> 存。因为 <code>double</code> 有 16 位精度，所以最后再将两个大数相除，前几位也是准确的，而且期望值显然在 $O(\text{ 棋盘大小 })$ 级别，精度不会爆炸。</p>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">标签</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/TopCoder/">TopCoder</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/04/14/Codeforce-Problems-from-Feb-to-Apr/" data-tooltip="Codeforces 题目总结" aria-label="上一篇: Codeforces 题目总结">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/04/13/Stirling-Number/" data-tooltip="Stirling Number" aria-label="下一篇: Stirling Number">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=jhdjames37.github.io/2018/04/14/Topcoder-SRMs/" title="分享到 Weibo">
                    <i class="fa fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=jhdjames37.github.io/2018/04/14/Topcoder-SRMs/&amp;title=Topcoder SRMs" title="分享到 QQ">
                    <i class="fa fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=jhdjames37.github.io/2018/04/14/Topcoder-SRMs/" title="分享到 Qzone">
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#gitment">
                         <i class="fa fa-comment-o"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="gitment"></div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2017 - 2018 jhdjames37. All Rights Reserved.
        <br>
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, themed by <a href="https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak" target="_blank">Tranquilpeak</a>
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/04/14/Codeforce-Problems-from-Feb-to-Apr/" data-tooltip="Codeforces 题目总结" aria-label="上一篇: Codeforces 题目总结">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/04/13/Stirling-Number/" data-tooltip="Stirling Number" aria-label="下一篇: Stirling Number">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=jhdjames37.github.io/2018/04/14/Topcoder-SRMs/" title="分享到 Weibo">
                    <i class="fa fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=jhdjames37.github.io/2018/04/14/Topcoder-SRMs/&amp;title=Topcoder SRMs" title="分享到 QQ">
                    <i class="fa fa-qq" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=jhdjames37.github.io/2018/04/14/Topcoder-SRMs/" title="分享到 Qzone">
                    <i class="fa fa-star" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#gitment">
                         <i class="fa fa-comment-o"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="5">
    <i id="btn-close-shareoptions" class="fa fa-close"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="http://service.weibo.com/share/share.php?&amp;title=jhdjames37.github.io/2018/04/14/Topcoder-SRMs/">
                    <i class="fa fa-weibo" aria-hidden="true"></i><span>分享到 Weibo</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=jhdjames37.github.io/2018/04/14/Topcoder-SRMs/&amp;title=Topcoder SRMs">
                    <i class="fa fa-qq" aria-hidden="true"></i><span>分享到 QQ</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=jhdjames37.github.io/2018/04/14/Topcoder-SRMs/">
                    <i class="fa fa-star" aria-hidden="true"></i><span>分享到 Qzone</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="https://www.gravatar.com/avatar/2d1d811a1320ec6dec962daa36118477?s=110" alt="作者的图片"/>
        
            <h4 id="about-card-name">jhdjames37</h4>
        
            <div id="about-card-bio"><p><a href="/About-me">An OIer.</a></p>
</div>
        
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Hangzhou, China
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover_new.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-yhuo2grt8r7qkqumzgjoglkfbicl1thukjgmla6jopu56zpcowfedi5zjcor.min.js"></script>
<!--SCRIPTS END-->

    
        <script type="text/javascript">
            (function() {
                function render() {
                    new Gitment({
                        id: 'Topcoder SRMs',
                        owner: 'jhdjames37',
                        repo: 'jhdjames37.github.io',
                        oauth: {
                            client_id: 'cc81c17420b569d32e22',
                            client_secret: 'fbc7f68c496e12ad992ccb7bba97d98936b66cee',
                        }
                    }).render('gitment');
                }
                var gc = document.createElement('script');
                gc.type = 'text/javascript';
                gc.src = '//jjeejj.github.io/js/gitment.js';
                gc.charset = 'UTF-8';
                gc.onload = render;
                gc.async = true;
                document.querySelector('body').appendChild(gc);
                var gcs = document.createElement('link');
                gcs.href = '//jjeejj.github.io/css/gitment.css';
                gcs.type = 'text/css';
                gcs.rel = 'stylesheet';
                gcs.media = 'screen,print';
                document.querySelector('head').appendChild(gcs);
            })();
	    </script>
    



    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>

<script src=https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
