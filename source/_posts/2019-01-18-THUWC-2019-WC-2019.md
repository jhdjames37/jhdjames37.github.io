---
title: THUWC 2019 & WC 2019
date: 2019-01-18 20:37:38
categories:
- oi
- review
tags:
- review
---

THUWC 2019 & WC 2019。

~~（不要问我为什么有一本约还来 TWC 我也不知道怎么回事想必今年一定是达不到分数线的甚至进不了面试。。。）~~

被学考折腾了一周，已经不会写代码了。。。

<!--- more --->

## Day $-O(1)$

官方钦点有一道角点检测。。。

<!--- （提前来广州做了适应性训练，所以没有 day 0） --->

## Jan. 21st - Day 1

去学校报到，去早了，被挡在门外。

然后签到的时候被告知 Out of Competition 选手啥东西都没有。。。

过了很久搞到了寝室，中间试了个机，OJ 土豆了。。。

---

下午成功爆炸。。。

开题看 T1，把期望搞掉，然后强上分块 $q \sqrt n$，写一发，很快过样例，然后交上去 MLE。。。

强行卡成 `int`，不 M 了，但是它 T 了。。。

分析了一波，根据缓存调整块大小把它卡了过去，最后一个 subtask 本机 5s，卡不过。

T2，T3 一开始有点凌乱，认真分析了一波，发现 T2 **就是**个细节题，T3 第一眼没有思路，然后就开始搞 T2，大概还有 2.5 h。

写了一个多小时，调了一下，然后交了一发，只过了一个点的 60 分。

然后就自闭了。。。。

一个多小时强行续到 30 min，终于发现一个 bug，交上去，终于有 60 了。。。（还过了 Subtask1?）

然后就继续自闭到 end 了。。。

---

一直以为莫队 $q \sqrt q$ 的，其实是 $n \sqrt q$ 的。然后许多人 T3 高分。。。凉了，还是我菜。。。

## Jan. 22nd - Day 2

彻底凉了。

T1 又是 ryz 的签到题。一个 bug 调了半小时。。。

然后看到了 T2 32，T3 51。1h 打完。

然后分数就没有增加了。。。

试图搞 T2，没想乱搞，然后思路局限在动态剖分类似的东西，成功自闭。。。

最后 30min 发现 T3 $n \le 50$ 可做，来不及写了。。。

再次沦为暴力选手。。。

---

角点检测场。

拿到题面一看，八合一。。。

前两个点出师不利，写得有点慢，T2 被 `bitset` 坑死，然后跑得贼慢。。。然后神奇地在系统找到了`crc32` 这个程序。。。

然后是 png 输入输出。看材料看了好久，材料的组织结构好混乱。。。找个东西的定义得花半天。然后再疯狂 `getchar` 后写完了读入。

然后输出更复杂，还得把两个校验码拖过来，一开始用 `string` 搞，然后编译的时候告诉我说和 `unsigned char` 不兼容？？！手动改成指针，然后调了半年，校验码校验区域找了好久。。。

最后还剩 20 min，火速 rush 了 T5（输入输出复制了好久）, 然后样例输出文件总是读不出来，但是测试点的输出能读出来，然后赶紧交了上去。然后比赛结束。后来感觉好像是文件流混用的锅。。。（和求 crc 的文件流重了）

感觉这场完全就是手速场。（XJ 大众水平 4 题，zrf 6 题）感觉对 C++ 熟悉一点能写的快一点（至少可以避免 CE 带来的返工），似乎合理运用 python / 系统库 也能稍微快一点。命题形式感觉还是有点问题，至少对于大部分选手似乎只能完成前 4 个点造轮子的任务。

一直以为出题人会 3h 一道角点检测，结果搞出 8 in 1，有点没想到。。。

## Jan. 23rd - Day 3

上午讲题，发现自己 zz 了。D1T3 容斥之后按照套路转成背包，然后需要处理一些细节（仅计算第一次贡献和不同权值的合并）。D2T3 就是考场上想到的 70 分 DP，然后加些前缀和优化。

D2T2 根本没有想到询问是个可重集。然后利用设计重心的一些小性质设计权值搞。

下午又是介绍贵系，又鬼畜了一波弹幕。然后听说北大发一二三等奖，然后就开始打听细节。过了很久之后，终于开始发约，也是一二三等奖，据说分别对应最优惠（原来的一本），省队最优惠，“再来一瓶”。今年高二收获颇丰，xtr, jxc, zzf, zkc 和 xjz 都有一等奖，高一的 zzd 和 xza 也是一等奖，Congratulations。感觉和前两次发的约不是一个数量级的。。。

---

一个小总结：感觉还是开题顺序有点小问题，D1 对自己码力过分自信，然后死刚 T2；D2 又被计算几何吓怕，反而去搞性质完全没有分析清楚的 T2。也许因为 Unrated，才敢这么玩，正式比赛怎么搞绝对要滚粗了。。。
感觉这场比赛 Medium 居多，然后感觉搞这种题还是有点带不上劲。

---

题意简述：

> D1T1：给出 $n$ 封信，有类型 $a_i$，有 $m$ 个信箱，类型为 $b_i$，区间询问 $c, d, e, f$ 表示将 $[c, d]$ 中的信随机投入 $[e, f]$ 的信箱中，每个信箱只放一封信，求期望有几封信放在了与其类型相同的信箱。 $n, q \le 10^5$ 或 $n \le 50000, q \le 10^6$。
> D1T2：给出 $r \times c$ 的网格图，每行每列可以运行一种火车，搭乘一列火车需要一定代价；某些城市有机场，搭乘飞机有固定的代价。有若干个限制，为在一定的前缀时间内，某个点所在行列的火车无法运行，或某个机场无法使用。$q$ 组询问，询问两点间何时连通，以及连通时两点间最短路。$r, c \le 10^5, q \le 10^6$。
> D1T3：定义一个操作 $(l, r, v)(1 \le v \le n)$ 表示对 $i \in [l, r]$ 执行 $a_i = \min(a_i, v)$，定义操作序列合法当且仅当依次进行每个操作能够将序列 $A$ 变成序列 $B$，且其所有前缀均不合法。求长度 $\le m$ 的序列数。$n \le 100, m \le 10^9$。
> D2T1：给出一棵树，每条边有边权 $(a_i, b_i)$，每个点有点权 $(c_i, d_i)$，从 $i$ 点出发，经过 $j$ 这条边的代价为 $\min(a_j + c_i, b_j + d_i)$，求两两点间代价和。$n \le 5 \times 10^5$。
> D2T2：交互题，给出两种询问，询问一个可重集 $S$，对于 $x \in [1, n]，\sum_{i \in S} \text{dis}(x, i)$ 的最小值以及一个可行的 $x$。要求还原树结构。$n \le 4000$，两种询问不超过 $3999, 3997$ 或 $100000, 0$。
> D2T3：给出 $n$ 个点，求其形成的所有严格凸包（无三点共线）面积的平均值和方差。$n \le 400$。

## Jan. 24th - NOIWC Day 0

早上搬了个寝室，去签了个到（顺便在签到墙上写了 wzz 厉害，然后发现忘写 yzyyylx 了，中午吃饭的时候补了一个。。。）。

---

晚上开营仪式。

> 欧盟已经不是那样的英国了（ccf 还是那样的 ccf）
> WC 是性价比（价性比）最高的竞赛。
> 今年有一道传统题、一道提答，和一道交互（三个愿望一次满足）
> 各种暗示。


## Jan. 25th - Day 1

上午松松松来~~讲评测系统~~推销评测鸭。理论相对基础，讲了许多故事（再次回到缓存优化。。。各种后台事故，各种神仙选手），再次吐槽土豆 OJ。评测鸭十几分钟成功刷了二十几页评测（一个上午刷了 50 多页）。。。成功抢到小黄鸭。LCA 和松~~两个毒瘤~~友好交流。

---

下午 picks 讲量子计算。几乎一点背景知识都没有，前面还可以处于“离线和在线的叠加态”，后面突然离线。。。


## Jan. 26th - Day 2

上午首先是具体数学。连具体数学都没有的我自然是听不懂的，旁边学了半学期具体数学的 zrf 一直在吐槽他讲的内容。

接下来是字符串高级内容选讲。似乎对于这类 technique 并不熟悉（似乎是集训队的基础内容），不久也陷入掉线。

---

下午松松松也来听课了，就坐在我旁边。给我们看各种~~不可描述的~~神奇的东西（新一批鸭子们 are underway），还一起参与讨论。

（松：2 亿 4s 肯定跑不过。讲题人：这个轻松跑过。）

先是 IOI 选讲。我是 9 月 IOI 结束做的题（~~贺的题解~~），现在回顾一下，（说实话有些题确实很 NB）。

接下来是 ACM 中国区域赛的好题选讲。前面的题还正常，后面时间有点赶，有点来不及理解。当时在 CF 看这些题的时候觉得可以一做，现在感觉下来确实有许多好题。

（我发现我这两天每天背着电脑跑来跑去，电脑最大的作用是一个移动电源。。。）

（大家去食堂的速度越来越快了。。。）

---

晚上营员交流。LCA 的连续段之前 zzf 说过，前两天想 EC-Final 的 B 的时候也稍微思考了一下。所以前半段至少没掉线。

接下来的 string 内容几乎全员掉线，（三小时的内容强行在 30 min 讲完。。。）samjia 的图染色有点复杂，也没听懂。最后的【可追溯化数据结构】感受了一下它是个啥玩意，（似乎）听懂了前面半段。。。


## Jan. 27th - Day 3

上午是“模拟费用流问题”，也就是 UER8 的 B 题及其扩展。其本质就是加速增广。主要是利用了权值的特殊性所产生的不交叉情况，根据这个确定增广方式。在 UER 题前面的东西大多还能听懂（发现好多细节都忘了差不多了）。后面再次开始赶课件。

---

下午是 IOI Day 2 以及各国 OI 题选讲。IOI Day2 T1 T2 还能回忆得起来，T3 一点印象都没了。。。（LCA 的 $O(n)$ 再次掉线）

接下来一些题讲得也稍微有点赶，根本来不及理解。（俄罗斯的题不像日本的，相对就有点朴实。。。）

下午松松松一直在搞他新送到的鸭子，发出奇怪的响声（有灵魂的鸭子。。。），组织大家按秩序领取。吃晚饭的时候松又没饭票来蹭饭，于是提出了【用鸭子换饭票】的理论。。。和松友好交流评测鸭的故事。。。

---

晚上试机前和松谈论奇奇怪怪的东西。

试机没啥东西，除了电脑突然死机，在松的建议下和维护人员投诉，~~获得了加时~~让我直接强行重启。随便写了点东西，就回寝室了。（听说集训队机房停电了？）

（T2 （CTSC D2T3）题面中的“妹子”变成了 Yazid。。。）

